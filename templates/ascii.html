<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ASCII Art - The Social Sort</title>
  <!-- Google Fonts Import -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@200;400;700&family=Ubuntu+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* --- CSS Variables --- */
    :root {
      --bg-color: #F5F1EB;
      --text-color: #333333;
      --primary-font: 'Ubuntu Sans', sans-serif;
      --secondary-font: 'Playfair Display', serif;
      --border-color: #E0D9D1;
    }

    /* --- General Body & Reset --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--primary-font);
      background-color: var(--bg-color);
      color: var(--text-color);
      overflow: hidden; /* Prevent scrollbars */
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    
    /* --- Animated Swirl Background --- */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        background: radial-gradient(circle at -20% -20%, rgba(201, 183, 168, 0.1), transparent 40%),
                    radial-gradient(circle at 120% 120%, rgba(201, 183, 168, 0.15), transparent 40%);
        animation: swirl 25s linear infinite;
    }

    @keyframes swirl {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    /* --- Navbar with Logo --- */
    .navbar {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      padding: 1.5rem 2rem;
      border-bottom: 1px solid var(--border-color);
      background-color: var(--bg-color);
      z-index: 10;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 1rem;
      text-decoration: none;
      color: inherit;
    }

    .logo-img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
    }

    .logo-text {
      font-family: var(--secondary-font);
      font-size: 1.5rem;
      font-weight: 700;
    }

    /* --- ASCII Panel Styling --- */
    .panel {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    pre#ascii {
      flex: 1;
      margin: 0;
      padding: 1rem;
      font-family: 'Courier New', Courier, monospace;
      white-space: pre;
      color: var(--text-color);
      overflow: hidden;
      user-select: text;
    }
  </style>
</head>
<body>

  <!-- ===============================
       NAVBAR
       =============================== -->
  <header class="navbar">
    <a href="/" class="logo-container">
        <img src="{{ url_for('static', filename='images/logo.png') }}" alt="The Social Sort Logo" class="logo-img">
        <span class="logo-text">The Social Sort</span>
    </a>
  </header>

  <!-- ===============================
       ASCII CONTENT
       =============================== -->
  <div class="panel">
    <pre id="ascii"></pre>
  </div>

  <script>
    const pre = document.getElementById('ascii');
    let widthChars, heightChars;
    let lastFrameTime = performance.now();
    let t = 0;

    // --- Hardcoded settings ---
    const SCALE = 10;
    const SPEED = 0.5;
    const CHARSET = '@#&$%WX9876543210?!;:+=-,._ ';

    function computeDimensions() {
      pre.style.fontSize = `${SCALE}px`;
      pre.style.lineHeight = `${SCALE}px`;
      
      const charWidth = SCALE * 0.6;
      const charHeight = SCALE;

      widthChars = Math.floor(pre.clientWidth / charWidth);
      heightChars = Math.floor(pre.clientHeight / charHeight);
    }

    function mapToChar(v) {
      const i = Math.max(0, Math.min(CHARSET.length - 1, Math.floor(v * CHARSET.length)));
      return CHARSET[i];
    }

    function renderFrame(dt) {
      t += dt * SPEED;
      let output = '';

      for (let y = 0; y < heightChars; y++) {
        for (let x = 0; x < widthChars; x++) {
          const u = x / widthChars;
          const v = y / heightChars;
          
          // Swirl effect logic
          const dx = u - 0.5;
          const dy = v - 0.5;
          const val = Math.sin(8 * Math.hypot(dx, dy) - 6 * Math.atan2(dy, dx) + t) / 2 + 0.5;
          
          output += mapToChar(val);
        }
        output += '\n';
      }
      pre.textContent = output;
    }

    function animate(now) {
      const dt = Math.min(0.06, (now - lastFrameTime) / 1000);
      lastFrameTime = now;
      renderFrame(dt);
      requestAnimationFrame(animate);
    }

    window.addEventListener('resize', computeDimensions);

    // Initial setup
    computeDimensions();
    requestAnimationFrame(animate);
  </script>
</body>
</html>
