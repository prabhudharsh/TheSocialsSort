<form id="profileForm">
    <input type="text" name="full_name" placeholder="Full Name" required>
    <textarea name="bio" placeholder="Your bio..." required></textarea>
    <button type="submit">Next</button>
</form>

<script>
document.getElementById('profileForm').onsubmit = async e => {
    e.preventDefault();
    const full_name = e.target.full_name.value;
    const bio = e.target.bio.value;

    const res = await fetch('/complete_profile', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({full_name, bio})
    });
    const data = await res.json();
    if (data.status === 'success') window.location.href = data.redirect;
    else alert(data.message);
};
</script>
